{"version":3,"sources":["webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/dev/dev-settings.provider.ts","webpack:///./src/environments/environment.ts","webpack:///./src/tosic/sxc/sxc-app.component.ts","webpack:///./src/tosic/sxc/sxc-http.provider.ts","webpack:///./src/tosic/sxc/sxc-http.ts","webpack:///./src/app/app.component.css","webpack:///./src/tosic/sxc/SxcAngular.ts","webpack:///./src/tosic/sxc/dev/dnn-dev-settings.ts","webpack:///./src/tosic/sxc/sxc-content.service.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 128;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 128\n// module chunks = 1","import { enableProdMode, Provider, APP_INITIALIZER, ApplicationRef } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, Inject, ApplicationRef, ElementRef, Injector } from '@angular/core';\nimport { SxcInstance } from \"tosic/sxc/sxc-instance\";\nimport { SxcAngular } from \"tosic/sxc/SxcAngular\";\nimport { SxcAppComponent } from \"tosic/sxc/sxc-app.component\";\nimport { ContentResourceFactory } from \"tosic/sxc/sxc-content.service\";\n\n\n@Component({\n  selector: 'app-root',\n  template: `\n    <h1>{{title}}</h1>\n    <p>moduleId (async pipe): {{sxcNg.moduleId | async}}</p>\n    <p>moduleId (subscription): {{modId}}</p>\n  `,\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent extends SxcAppComponent {\n  modId: number;\n\n  constructor(private element:ElementRef, public sxcNg: SxcAngular, private crf: ContentResourceFactory) {\n    super(element, sxcNg);\n\n    let person = crf.resource(\"Person\");\n\n    let personObservable = person.get();\n\n    personObservable.subscribe(res => {\n      console.log('got person', res);\n\n    })\n\n\n    sxcNg.moduleId\n      .subscribe((id: number) => this.modId = id);\n  }\n\n  ngOnInit(){\n    // let's try stuff...\n  }\n  title = 'Hello Angular 4 Data on DNN! Let\\'s load now!';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './app.component';\nimport { SxcAngular } from \"tosic/sxc/SxcAngular\";\nimport { ContentResourceFactory } from \"tosic/sxc/sxc-content.service\";\nimport { SxcHttpProvider } from \"tosic/sxc/sxc-http.provider\";\nimport { DevSettingsProvider } from \"dev/dev-settings.provider\";\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [DevSettingsProvider, SxcAngular, ContentResourceFactory, SxcHttpProvider],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","\r\nimport { Provider } from \"@angular/core\";\r\nimport { DnnDevSettings } from \"tosic/sxc/dev/dnn-dev-settings\";\r\n\r\nexport let DevSettingsProvider : Provider = {\r\n    provide: DnnDevSettings,\r\n    useValue: <DnnDevSettings> {\r\n        ignoreMissing$2sxc: true,\r\n        ignoreMissingServicesFramework: true,\r\n        forceUse: false,\r\n        moduleId: 17,\r\n        tabId: 36,\r\n        path: \"/\"\r\n    },\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/dev/dev-settings.provider.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","//\n// This is a base class for all apps which run in DNN.\n// It ensures that the rest of the parts depending on DNN parameters are correctly initialized\n// \nimport { ElementRef } from '@angular/core';\nimport { SxcAngular } from \"tosic/sxc/SxcAngular\";\n\n\nexport class SxcAppComponent {\n  constructor(element:ElementRef, sxcNg: SxcAngular) {\n    sxcNg.autoConfigure(element);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tosic/sxc/sxc-app.component.ts","import { SxcHttp } from './sxc-http';\r\nimport { Http, XHRBackend, RequestOptions } from \"@angular/http\";\r\nimport { SxcAngular } from \"tosic/sxc/SxcAngular\";\r\n\r\nexport function DnnHttpProviderFactory(backend: XHRBackend, defaultOptions: RequestOptions, sxc: SxcAngular) {\r\n    return new SxcHttp(backend, defaultOptions, sxc);\r\n}\r\n\r\nexport let SxcHttpProvider =\r\n    {\r\n        provide: Http,\r\n        useFactory: DnnHttpProviderFactory,\r\n        deps: [XHRBackend, RequestOptions, SxcAngular]\r\n    };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/tosic/sxc/sxc-http.provider.ts","import { Injectable } from '@angular/core';\r\nimport {   Http,   ConnectionBackend,   RequestOptions,  RequestOptionsArgs,  Request,  Response,  Headers } from '@angular/http';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { SxcAngular } from \"tosic/sxc/SxcAngular\";\r\nimport { ReplaySubject } from \"rxjs/ReplaySubject\";\r\nimport { SxcInstance } from \"tosic/sxc/sxc-instance\";\r\nimport { Subject } from \"rxjs/Subject\";\r\nimport { AppContext } from \"tosic/sxc/app-context\";\r\n\r\n@Injectable()\r\nexport class SxcHttp extends Http {\r\n  constructor(\r\n    backend: ConnectionBackend,\r\n    defaultOptions: RequestOptions,\r\n    private sxcNg: SxcAngular\r\n  ) {\r\n    super(backend, defaultOptions);\r\n  }\r\n\r\n  request(url: string | Request, options: RequestOptionsArgs = new RequestOptions()): Observable<Response> {\r\n    let subject = new Subject<Response>();\r\n    this.sxcNg.context.take(1).subscribe(res => {\r\n        // todo: better dev mode detection using environment\r\n        let isDevMode = window.location.hostname === 'localhost';\r\n\r\n        if (typeof url === 'string') {\r\n          url = res.sxc.resolveServiceUrl(<string>url);\r\n          this.configure(options, res);\r\n        }\r\n        else {\r\n          url.url = res.sxc.resolveServiceUrl(<string>url.url);\r\n          this.configure(<Request>url, res);\r\n        }\r\n\r\n        console.log(\"options\", options);\r\n        console.log('url', url);\r\n\r\n        super.request(url)//, options)\r\n          .subscribe(subject.next);\r\n      })\r\n      ;//.catch(e => console.error(e))\r\n    return subject.asObservable();\r\n  }\r\n\r\n  private configure(options: RequestOptionsArgs | Request, params: AppContext): RequestOptionsArgs {\r\n    if (!options.headers) options.headers = new Headers();\r\n    options.headers.append('ModuleId', params.moduleId.toString());\r\n    options.headers.append('TabId', params.tabId.toString());\r\n    options.headers.append('ContentBlockId', params.contentBlockId.toString());\r\n    options.headers.append('RequestVerificationToken', params.antiForgeryToken);\r\n    options.headers.append('X-Debugging-Hint', 'bootstrapped by Sxc4Angular');\r\n    return options;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tosic/sxc/sxc-http.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"h1 {\\r\\n  color: #369;\\r\\n  font-family: Arial, Helvetica, sans-serif;\\r\\n  font-size: 250%;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 195\n// module chunks = 1","\r\nimport { ElementRef, Optional, Injectable } from \"@angular/core\";\r\nimport { ReplaySubject, Observable, Subscription } from \"rxjs\";\r\nimport { AppContext } from \"tosic/sxc/app-context\";\r\nimport { DnnDevSettings } from \"tosic/sxc/dev/dnn-dev-settings\";\r\nimport { SxcInstance } from \"tosic/sxc/sxc-instance\";\r\n\r\ndeclare const window: any;\r\n\r\n@Injectable()\r\nexport class SxcAngular {\r\n    context: Observable<AppContext>;\r\n    moduleId: Observable<number>;\r\n    tabId: Observable<number>;\r\n    contentBlockId: Observable<number>;\r\n    antiForgeryToken: Observable<string>;\r\n    sxc: Observable<SxcInstance>;\r\n\r\n    // internal Observable Subjects\r\n    private globSxc: any;\r\n    private midSubject: ReplaySubject<number> = new ReplaySubject<number>();\r\n    private tidSubject: ReplaySubject<number> = new ReplaySubject<number>();\r\n    private cbIdSubject: ReplaySubject<number> = new ReplaySubject<number>();\r\n    private afTokenSubject: ReplaySubject<string> = new ReplaySubject<string>();\r\n    private contextSubject: ReplaySubject<AppContext> = new ReplaySubject<AppContext>();\r\n    private sxcSubject: ReplaySubject<SxcInstance> = new ReplaySubject<SxcInstance>();\r\n    private sxcInstance: SxcInstance;\r\n\r\n    constructor(@Optional() private devSettings: DnnDevSettings) {\r\n        // make sure we have a devSettings, which at least has the minimal ignore-settings\r\n        devSettings = Object.assign({}, {\r\n            ignoreMissing$2sxc: false,\r\n            ignoreMissingServicesFramework: false\r\n        }, devSettings);\r\n\r\n        this.globSxc = <any>window.$2sxc;\r\n        if (this.globSxc == undefined && !devSettings.ignoreMissing$2sxc)\r\n            throw 'window.$2sxc is null - you probably forgot to include the script before loading angular';\r\n\r\n        this.moduleId = this.midSubject.asObservable();\r\n        this.tabId = this.tidSubject.asObservable();\r\n        this.contentBlockId = this.cbIdSubject.asObservable();\r\n        this.antiForgeryToken = this.afTokenSubject.asObservable();\r\n        this.sxc = this.sxcSubject.asObservable();\r\n        this.context = this.contextSubject.asObservable();\r\n\r\n        Observable.combineLatest(this.moduleId, this.tabId, this.contentBlockId, this.sxc, this.antiForgeryToken)\r\n            .subscribe(res => this.contextSubject.next(<AppContext>{\r\n                    moduleId: res[0],\r\n                    tabId: res[1],\r\n                    contentBlockId: res[2],\r\n                    sxc: res[3],\r\n                    antiForgeryToken: res[4]\r\n                })\r\n            );\r\n    };\r\n\r\n    autoConfigure(htmlNode: ElementRef) {\r\n        if (this.globSxc == undefined) {\r\n            if (!this.devSettings.ignoreMissing$2sxc)\r\n                throw \"cannot autoConfigure - missing $2sxc\";\r\n            this.midSubject.next(this.devSettings.moduleId);\r\n            this.tidSubject.next(this.devSettings.tabId);\r\n            this.cbIdSubject.next(0);\r\n        }\r\n        else {\r\n            let sxc = this.sxcInstance = <SxcInstance>this.globSxc(htmlNode.nativeElement);\r\n            if (sxc == undefined || sxc == null)\r\n                throw \"couldn't get sxc instance - reason unknown\";\r\n\r\n            // update/publish moduleId\r\n            this.midSubject.next(sxc.id);\r\n            this.cbIdSubject.next(sxc.cbid);\r\n            this.sxcSubject.next(sxc);\r\n\r\n            // check if DNN Services framework exists...\r\n            if(window.$ && window.$.ServicesFramework) {\r\n                // run timer till sf is ready, but max for a second\r\n                var timer = Observable.timer(0, 100)    // try every 100ms\r\n                    .take(10)                           // max 10x\r\n                    .subscribe(x => {\r\n                        // this must be access AFTER a delay, as the SF is not be ready yet...\r\n                        let sf =  window.$.ServicesFramework(this.sxcInstance.id);\r\n                        if(sf.getAntiForgeryValue()){ // if this works, then SF is initialized\r\n                            timer.unsubscribe();\r\n                            if(window.dnn && window.dnn.vars && window.dnn.vars.length == 0)\r\n                                window.dnn.vars = null; // must reset, as they are incorrectly initialized when accessed early\r\n                            this.tidSubject.next(sf.getTabId());\r\n                            this.afTokenSubject.next(sf.getAntiForgeryValue());\r\n                        }\r\n                    });\r\n            } else {\r\n                if(!this.devSettings.ignoreMissingServicesFramework)\r\n                    throw \"DNN Services Framework is missing, and it's not allowed according to devSettings. Either set devSettings to ignore this, or ensure it's there\";\r\n                \r\n                this.tidSubject.next(this.devSettings.tabId);\r\n                this.afTokenSubject.next(this.devSettings.antiForgeryToken);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // getInstance(seed: any, cbid?: number): SxcInstance {\r\n    //     return <SxcInstance>this.globSxc(seed, cbid);\r\n    // }\r\n\r\n    // urlParams(name: string): string {\r\n    //     return <string>this.globSxc.urlParams(name);\r\n    // }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tosic/sxc/SxcAngular.ts","// This lets you configure test-values during development\r\n\r\nimport { AppContext } from \"tosic/sxc/app-context\";\r\n\r\nexport class DnnDevSettings implements AppContext {\r\n    ignoreMissing$2sxc = false;\r\n    ignoreMissingServicesFramework  = false;\r\n    forceUse: boolean = false;\r\n\r\n    moduleId: number = 0;\r\n    tabId: number = 0;\r\n\r\n    contentBlockId: number;\r\n    antiForgeryToken: \"ThisIsaTestAntiForgeryToken\";\r\n    sxc: null;\r\n    path: string = \"/\";\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tosic/sxc/dev/dnn-dev-settings.ts","\r\n\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Http, Response, Headers } from \"@angular/http\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n\r\n\r\n@Injectable()\r\nexport class ContentResourceFactory {\r\n  constructor(private http: Http) {\r\n\r\n  }\r\n\r\n  resource(typeName: string) {\r\n    return new ContentResource(this.http, typeName);\r\n  }\r\n}\r\n\r\n\r\n@Injectable()\r\nexport class ContentResource {\r\n\r\n  constructor(private http: Http, private typeName: string) {\r\n\r\n  }\r\n\r\n  get(id:number = null): Observable<Response> {\r\n      var url = \"app/auto/content/\" + this.typeName;\r\n      if(id)\r\n        url += \"/\" + id.toString();\r\n        let head = new Headers();\r\n        head.append(\"hello\", \"there\");\r\n      return this.http.get(url, { headers: head });\r\n\r\n    // this.http.get(`${this.base + this.path}/DirectoryItem`, { headers: this.headers })\r\n    //   .map(res => res.json().map((entry: DirectoryEntry) => {\r\n    //     entry.Logo = this.base + entry.Logo;\r\n    //     return entry;\r\n    //   }))\r\n    //   .subscribe(entries => this.entrySubject.next(entries));\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tosic/sxc/sxc-content.service.ts"],"sourceRoot":""}